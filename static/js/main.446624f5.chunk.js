(this["webpackJsonpmovie-db"]=this["webpackJsonpmovie-db"]||[]).push([[0],{36:function(e,t,i){},38:function(e,t,i){},39:function(e,t,i){},40:function(e,t,i){},42:function(e,t,i){},63:function(e,t,i){},66:function(e,t,i){},67:function(e,t,i){"use strict";i.r(t);var n=i(1),r=i.n(n),c=i(28),s=i.n(c),a=i(16),o=i(2),d=i(8),l=i(9),h=i(11),v=i(10),u=(i(36),i(0)),j=function(e){Object(h.a)(i,e);var t=Object(v.a)(i);function i(){var e;Object(d.a)(this,i);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(e){e.target.action="http://n1ck47.github.io/movie-db/#/search"},e}return Object(l.a)(i,[{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"nav",children:[Object(u.jsx)("div",{className:"tabs",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"http://n1ck47.github.io/movie-db/#/movies",children:"Movies"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"http://n1ck47.github.io/movie-db/#/tv",children:"TV Shows"})})]})}),Object(u.jsx)("div",{style:{marginRight:10},className:"search-box",children:Object(u.jsx)("form",{onSubmit:this.handleSubmit,children:Object(u.jsx)("input",{name:"query",type:"text",style:p.search,placeholder:"Search"})})})]})})}}]),i}(r.a.Component),p={search:{padding:10,marginRight:3,border:"None",borderRadius:5,width:"250px",outline:"none"},searchBtn:{height:25,width:50,padding:3,cursor:"pointer"}},b=j,f=(i(38),function(e){Object(h.a)(i,e);var t=Object(v.a)(i);function i(){return Object(d.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){var e=this.props.movie,t=e.title,i=e.poster,n=e.id,r=this.props,c=r.isMovie,s=r.isTv,a="https://image.tmdb.org/t/p/w500".concat(i);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"home-card",children:[Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:"http://n1ck47.github.io/movies-db/#/overview?id=".concat(n,"&isMovie=").concat(c,"&isTv=").concat(s),children:Object(u.jsx)("img",{alt:t,src:a})})}),Object(u.jsx)("div",{className:"home-card-bottom",children:Object(u.jsx)("div",{style:m.title,children:t})})]})})}}]),i}(r.a.Component)),m={title:{fontWeight:600,marginRight:2}},g=f,O=function(e){return{type:"loading-movies",loading:e}},x=(i(39),"fe4433c0a2cecf3cd361ef66042fcabe"),y=function(e){Object(h.a)(i,e);var t=Object(v.a)(i);function i(){return Object(d.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this,t=this.props,i=t.store,n=t.isMovie,r=t.isTv;i.subscribe((function(){return e.forceUpdate()}));var c="",s="";n&&(c="movie",s="original_title"),r&&(c="tv",s="name");var a="https://api.themoviedb.org/3/discover/".concat(c,"?api_key=").concat(x,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1"),o="https://api.themoviedb.org/3/trending/".concat(c,"/day?api_key=").concat(x);fetch(a).then((function(e){return e.json()})).then((function(t){var n=(t=t.results.filter((function(e){return null!=e.poster_path}))).map((function(e){return{title:e[s],poster:e.poster_path,id:e.id}}));return i.dispatch({type:"discover-movies",discover:n}),e.setState({discover:n,loading:!0}),fetch(o).then((function(e){return e.json()})).then((function(t){var n=(t=t.results.filter((function(e){return null!=e.poster_path}))).map((function(e){return{title:e[s],poster:e.poster_path,id:e.id}}));e.setState({trending:n,loading:!1}),i.dispatch(function(e){return{type:"trending-movies",trending:e}}(n)),i.dispatch(O(!1))}))}))}},{key:"render",value:function(){var e=this.props,t=e.store,i=e.isMovie,n=e.isTv,r=t.getState().movies,c=r.discover,s=r.trending,a=r.loading;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"discover",children:[!a&&Object(u.jsx)("div",{style:w.discover,children:"Discover"}),Object(u.jsx)("div",{className:"discover-list",children:!a&&c.map((function(e){return Object(u.jsx)(g,{movie:e,isTv:n,isMovie:i},e.id)}))})]}),Object(u.jsxs)("div",{className:"treding",children:[!a&&Object(u.jsx)("div",{style:w.discover,children:"Treding"}),Object(u.jsx)("div",{className:"treding-list",children:!a&&s.map((function(e){return Object(u.jsx)(g,{movie:e,isTv:n,isMovie:i},e.id)}))})]})]})}}]),i}(r.a.Component),w={discover:{fontWeight:600,fontSize:25,marginLeft:20,marginTop:20}},S=y,_=(i(40),"fe4433c0a2cecf3cd361ef66042fcabe"),k=function(e){Object(h.a)(i,e);var t=Object(v.a)(i);function i(){return Object(d.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this,t=window.location.search.split("=")[1],i=this.props.store,n=this.props.query;t&&(n=t),i.subscribe((function(){return e.forceUpdate()}));var r="https://api.themoviedb.org/3/search/movie?api_key=".concat(_,"&language=en-US&query=").concat(n,"&page=1&include_adult=false"),c="https://api.themoviedb.org/3/search/tv?api_key=".concat(_,"&language=en-US&page=1&query=").concat(n,"&include_adult=false");fetch(r).then((function(e){return e.json()})).then((function(e){var t=(e=e.results.filter((function(e){return null!=e.poster_path}))).map((function(e){return{title:e.original_title,poster:e.poster_path,id:e.id}}));return i.dispatch(function(e){return{type:"search-movies",searchMovies:e}}(t)),fetch(c).then((function(e){return e.json()})).then((function(e){var t=(e=e.results.filter((function(e){return null!=e.poster_path}))).map((function(e){return{title:e.name,poster:e.poster_path,id:e.id}}));i.dispatch(function(e){return{type:"search-tv",searchTv:e}}(t)),i.dispatch(O(!1))}))}))}},{key:"render",value:function(){var e=this.props.store.getState().movies,t=e.searchMovies,i=e.searchTv,n=e.loading;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"discover",children:[!n&&Object(u.jsx)("div",{style:M.discover,children:"Movies"}),Object(u.jsx)("div",{className:"discover-list",children:!n&&t.map((function(e){return Object(u.jsx)(g,{movie:e,isMovie:!0,isTv:!1},e.id)}))})]}),Object(u.jsxs)("div",{className:"treding",children:[!n&&Object(u.jsx)("div",{style:M.discover,children:"TV Shows"}),Object(u.jsx)("div",{className:"treding-list",children:!n&&i.map((function(e){return Object(u.jsx)(g,{movie:e,isMovie:!1,isTv:!0},e.id)}))})]})]})}}]),i}(r.a.Component),M={discover:{fontWeight:600,fontSize:25,marginLeft:20,marginTop:20}},N=k,T=i(13),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{discover:[],trending:[],favorites:[],searchMovies:[],searchTv:[],loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"discover-movies":return Object(T.a)(Object(T.a)({},e),{},{discover:t.discover});case"trending-movies":return Object(T.a)(Object(T.a)({},e),{},{trending:t.trending});case"search-movies":return Object(T.a)(Object(T.a)({},e),{},{searchMovies:t.searchMovies});case"search-tv":return Object(T.a)(Object(T.a)({},e),{},{searchTv:t.searchTv});case"loading-movies":return Object(T.a)(Object(T.a)({},e),{},{loading:t.loading});default:return e}},z=Object(a.a)({movies:U}),A=(i(42),function(e){Object(h.a)(i,e);var t=Object(v.a)(i);function i(){var e;return Object(d.a)(this,i),(e=t.call(this)).state={title:"movie.title",poster:"/tnAuB8q5vv7Ax9UAEje5Xi4BXik.jpg"},e}return Object(l.a)(i,[{key:"render",value:function(){var e=this.props.cast,t=e.original_name,i=e.profile_path,n=e.character,r="https://image.tmdb.org/t/p/w500".concat(i);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"person-card",children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{alt:t,src:r})}),Object(u.jsxs)("div",{className:"person-card-bottom",children:[Object(u.jsx)("div",{style:C.title,children:t}),Object(u.jsx)("div",{style:C.character,children:n})]})]})})}}]),i}(r.a.Component)),C={title:{fontWeight:600,marginRight:2,color:"white"},character:{fontSize:13,fontWeight:300,color:"white"}},W=A,B=i(30),F=i.n(B),q=(i(63),"fe4433c0a2cecf3cd361ef66042fcabe"),L=function(e){Object(h.a)(i,e);var t=Object(v.a)(i);function i(){var e;return Object(d.a)(this,i),(e=t.call(this)).state={movie:{},loading:!0,cast:[],isMovie:!0,videos:[],videoAvailable:!1},e}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this,t=window.location.href.split("id=")[1].split("&")[0],i=window.location.href.split("isMovie=")[1].split("&")[0];"true"===window.location.href.split("isTv=")[1].split("&")[0]&&this.setState({isMovie:!1}),this.props.store.subscribe((function(){return e.forceUpdate()}));var n="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(q,"&language=en-US"),r="https://api.themoviedb.org/3/tv/".concat(t,"?api_key=").concat(q,"&language=en-US");fetch(n).then((function(e){return e.json()})).then((function(n){if("true"===i){e.setState({movie:n});var c="https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(q,"&language=en-US");return fetch(c).then((function(e){return e.json()})).then((function(i){e.setState({cast:i.cast,loading:!1});var n="https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=").concat(q,"&language=en-US");return fetch(n).then((function(e){return e.json()})).then((function(t){e.setState({videos:t.results}),0!==t.results.length&&e.setState({videoAvailable:!0})}))}))}if("false"===i)return fetch(r).then((function(e){return e.json()})).then((function(i){e.setState({movie:i});var n="https://api.themoviedb.org/3/tv/".concat(t,"/credits?api_key=").concat(q,"&language=en-US");return fetch(n).then((function(e){return e.json()})).then((function(i){e.setState({cast:i.cast,loading:!1,isMovie:!1});var n="https://api.themoviedb.org/3/tv/".concat(t,"/videos?api_key=").concat(q,"&language=en-US");return fetch(n).then((function(e){return e.json()})).then((function(t){e.setState({videos:t.results}),0!==t.results.length&&e.setState({videoAvailable:!0})}))}))}))}))}},{key:"render",value:function(){var e=this.state,t=e.movie,i=e.loading,n=e.isMovie,r=e.videoAvailable,c=0,s=this.state.cast,a=this.state.videos;i||(s=s.filter((function(e){return e.profile_path&&(c+=1),e.profile_path&&c<11})),c=0,a=a.filter((function(e){return(c+=1)<3})));var o="https://image.tmdb.org/t/p/w500".concat(t.poster_path),d="https://image.tmdb.org/t/p/w500".concat(t.backdrop_path),l=!i&&(n?t.release_date.split("-")[0]:t.first_air_date.split("-")[0]),h=!i&&t.genres.filter((function(e){return e}));return Object(u.jsx)(u.Fragment,{children:!i&&Object(u.jsxs)("div",{style:{height:"300",background:"linear-gradient(rgba(0,0,0,.5), rgba(0,0,0,.5)), url(".concat(d,") 0px 0px/cover no-repeat")},children:[Object(u.jsxs)("div",{className:"overview",children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{alt:n?t.original_title+" ("+l+")":t.name+" ("+l+")",style:R.poster,src:o})}),Object(u.jsxs)("div",{className:"right-block",children:[Object(u.jsxs)("div",{className:"right-block-title",children:[Object(u.jsx)("div",{style:R.title,children:n?t.original_title+" ("+l+")":t.name+" ("+l+")"}),Object(u.jsx)("div",{className:"genres",children:h.map((function(e){return Object(u.jsx)("li",{children:e.name},e.id)}))}),Object(u.jsx)("div",{style:{fontSize:21,fontWeight:500,marginTop:10,marginBottom:10,color:"white"},children:"Overview"}),Object(u.jsx)("div",{style:{color:"white",fontSize:15},children:t.overview})]}),Object(u.jsx)("div",{className:"right-block-cast",children:0!==c&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{style:{fontSize:21,fontWeight:500,marginTop:10,marginLeft:20,color:"white"},children:"Cast"}),Object(u.jsx)("div",{className:"cast",children:s.map((function(e){return Object(u.jsx)(W,{cast:e},e.id)}))})]})})]})]}),r&&Object(u.jsxs)("div",{className:"clips",children:[Object(u.jsx)("div",{style:{color:"white",marginLeft:"20px",fontSize:30},children:"Clips"}),Object(u.jsx)("div",{className:"videos",children:a.map((function(e){return Object(u.jsx)(F.a,{controls:!0,width:"640px",height:"360px",style:{marginLeft:"20px",width:"800px"},url:"https://www.youtube.com/watch?v=".concat(e.key)},e.id)}))})]})]})})}}]),i}(r.a.Component),R={poster:{height:450,width:300,marginLeft:20,marginTop:20,marginBottom:20,borderRadius:8},title:{fontSize:30,fontWeight:600,color:"white",marginBottom:2}},D=L;var E=function(){var e=Object(a.b)(z);return Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{store:e}),Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{exact:!0,path:"/movies",render:function(){return Object(u.jsx)(S,{store:e,isMovie:!0,isTv:!1})}}),Object(u.jsx)(o.b,{exact:!0,path:"/tv",render:function(){return Object(u.jsx)(S,{store:e,isMovie:!1,isTv:!0})}}),Object(u.jsx)(o.b,{exact:!0,path:"/search",render:function(){return Object(u.jsx)(N,{store:e,query:"avenger"})}}),Object(u.jsx)(o.b,{exact:!0,path:"/overview",render:function(){return Object(u.jsx)(D,{store:e})}}),Object(u.jsx)(o.a,{to:"/movies"})]})]})},J=i(20);i(66);s.a.render(Object(u.jsx)(J.a,{children:Object(u.jsx)(E,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.446624f5.chunk.js.map